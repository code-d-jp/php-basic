# 連想配列

連想配列は配列の一種で、要素番号の代わりにキーを使って値を管理します。テキストエディタを開いて次のプログラム（a_array1.php）を作成してみましょう。

```php
<?php
$student = ["name" => "Andy", "age" => 20];
echo $student["name"] . PHP_EOL;
echo $student["age"]. PHP_EOL;
```

まずは作成したプログラムを実行してみましょう。ターミナルから次のように実行します。

```
$ php a_array1.php
Andy
20
```

連想配列`$student`に対して`"name"`というキーを指定することで`"Andy"`、`"age"`というキーを指定することで`20`が出力されているのがわかります。

## 連想配列

連想配列も配列と同じように`[]`リテラルを使って定義します。通常の配列（添字配列）は以下のように定義しました。

```
$names = ["Andy", "Betty", "Carorl"];
```

添字配列の場合は要素の先頭から順番に要素番号が割り振られるのでした。また要素番号は`0`から順番に割り振られます。たとえば`echo $names[1];` と実行すると`Betty`が出力されます。

一方で連想配列は要素番号の代わりにキーを使うので、配列の作り方が少々異なります。

```
$student = ["name" => "Andy", "age" => 20];
```

上記の場合`"name"`と`"age"`という2つのキーに対して、それぞれ`"Andy"`、`20`を関連付けています。連想配列はキーと関連付くデータのことを値（Value：バリュー）と呼びます。キーと値の関連付けはダブルアロー演算子`=>`を使います。

> 連想配列はキー（Key）と値（Value）の組み合わせで管理します。連想配列のキーには文字列を使います。

## 連想配列の応用

連想配列を応用したプログラムを見てみましょう。次のプログラム（a_array2.php）を作成してます。


```
<?php
$students = [
  ["name" => "Andy", "age" => 20],
  ["name" => "Betty", "age" => 19],
  ["name" => "Carol", "age" => 21]
];

for ($i = 0; $i < 3; $i++) {
    if ($students[$i]["age"] >= 20) {
        echo "Hello ";
        echo $students[$i]["name"] . PHP_EOL;
    }
}
```

まずはプログラムを実行してみましょう。

```
$ php a_array2.php
Hello Andy
Hello Carol
```

それではプログラムの詳細を見てみましょう。ここでは配列`$students`を宣言しています。

```
$students = [
  ["name" => "Andy", "age" => 20],
  ["name" => "Betty", "age" => 19],
  ["name" => "Carol", "age" => 21]
];
```

よく見ると`$students`は通常の配列（添字配列）でありながら、各要素は連想配列として定義されているのがわかります。このような変数は2次元配列と呼ぶこともあります。

配列`$students`を宣言した後、for文を使って3件のデータを繰り返し処理します。

```
for ($i = 0; $i < 3; $i++) {
    if ($students[$i]["age"] >= 20) {
        echo "Hello ";
        echo $students[$i]["name"] . PHP_EOL;
    }
}
```

繰り返しの中では`$students[$i]`にアクセスしていますが、要素番号`$i`を指定した先にあるのは連想配列です。たとえば`$i`が`0`の場合、つまり`$students[0]`と指定すると次の連想配列にアクセスできます。

```
["name" => "Andy", "age" => 20]
```

同様に`$students[1]`の場合は、次の連想配列にアクセスできます。

```
["name" => "Betty", "age" => 19],
```

`$students[2]`の場合は、次の連想配列にアクセスできます。

```
["name" => "Carol", "age" => 21]
```

そのため`for`文の中で`if ($students[$i]["age"] >= 20) {`と記述することで、3人の年齢が20以上か確認することができます。`Andy`と`Carol`の2人はこの条件をクリアします。その後`echo $students[$i]["name"] . PHP_EOL;`と記述することで、2人の名前`"Andy"`、`"Carol"`が順に出力されるのです。


